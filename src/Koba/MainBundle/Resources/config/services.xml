<?xml version="1.0" encoding="utf-8"?>
<container xmlns="http://symfony.com/schema/dic/services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
  <services>
    <!-- Entity repositories -->
    <service id="koba.booking_repository" class="Koba\MainBundle\EntityRepositories\BookingRepository">
    </service>
    <service id="koba.group_repository" class="Koba\MainBundle\EntityRepositories\GroupRepository">
    </service>
    <service id="koba.resource_repository" class="Koba\MainBundle\EntityRepositories\ResourceRepository">
    </service>
    <service id="koba.user_repository" class="Koba\MainBundle\EntityRepositories\UserRepository">
    </service>

    <!-- Services -->
    <service id="koba.booking_service" class="Koba\MainBundle\Services\BookingService">
      <argument type="service" id="koba.booking_repository"></argument>
      <argument type="service" id="koba.user_repository"></argument>
      <argument type="service" id="koba.resource_repository"></argument>
      <argument type="service" id="itk.exchange_service"></argument>
    </service>
    <service id="koba.group_service" class="Koba\MainBundle\Services\GroupService">
      <argument type="service" id="koba.group_repository"></argument>
      <argument type="service" id="itk.exchange_service"></argument>
    </service>
    <service id="koba.resource_service" class="Koba\MainBundle\Services\ResourceService">
      <argument type="service" id="koba.resource_repository"></argument>
      <argument type="service" id="itk.exchange_service"></argument>
    </service>
    <service id="koba.user_service" class="Koba\MainBundle\Services\UserService">
      <argument type="service" id="koba.user_repository"></argument>
      <argument type="service" id="koba.group_repository"></argument>
    </service>

    <!-- Event listeners -->
    <service id="kernel.listener.koba_exception" class="Koba\MainBundle\EventListeners\KobaExceptionListener">
      <tag name="kernel.event_listener" event="kernel.exception" method="onKernelException"></tag>
    </service>
  </services>
</container>
